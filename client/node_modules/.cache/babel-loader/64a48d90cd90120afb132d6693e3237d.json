{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\JJ\\\\Downloads\\\\react_contact_keeper-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\JJ\\\\Downloads\\\\react_contact_keeper-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\JJ\\\\Downloads\\\\react_contact_keeper-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/authContext';import AlertContext from\"../../context/alert/alertContext\";var Login=function Login(props){var authContext=useContext(AuthContext);var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='Invalid Credentials'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var email=user.email,password=user.password;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(email===''||password===''){setAlert('Please fill in all fields','danger');}else{login({email:email,password:password});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})));};export default Login;","map":{"version":3,"sources":["C:/Users/JJ/Downloads/react_contact_keeper-master/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","Login","props","authContext","alertContext","setAlert","login","error","clearErrors","isAuthenticated","email","password","user","setUser","history","push","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"4iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CAEA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CACnB,GAAMC,CAAAA,WAAW,CAAGN,UAAU,CAACE,WAAD,CAA9B,CACA,GAAMK,CAAAA,YAAY,CAAGP,UAAU,CAACG,YAAD,CAA/B,CAFmB,GAGXK,CAAAA,QAHW,CAGED,YAHF,CAGXC,QAHW,IAIXC,CAAAA,KAJW,CAIoCH,WAJpC,CAIXG,KAJW,CAIJC,KAJI,CAIoCJ,WAJpC,CAIJI,KAJI,CAIGC,WAJH,CAIoCL,WAJpC,CAIGK,WAJH,CAIgBC,eAJhB,CAIoCN,WAJpC,CAIgBM,eAJhB,eAMKb,QAAQ,CAAC,CAC7Bc,KAAK,CAAE,EADsB,CAE7BC,QAAQ,CAAE,EAFmB,CAAD,CANb,wCAMZC,IANY,eAMNC,OANM,eAWnBf,SAAS,CAAC,UAAM,CACZ,GAAIW,eAAJ,CAAqB,CACjBP,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAED,GAAIR,KAAK,GAAK,qBAAd,CAAqC,CACjCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACd,CACD;AACH,CAVQ,CAUN,CAACD,KAAD,CAAQE,eAAR,CAAyBP,KAAK,CAACY,OAA/B,CAVM,CAAT,CAXmB,GAuBXJ,CAAAA,KAvBW,CAuBSE,IAvBT,CAuBXF,KAvBW,CAuBJC,QAvBI,CAuBSC,IAvBT,CAuBJD,QAvBI,CAyBnB,GAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIJ,CAAAA,OAAO,gCAAMD,IAAN,wBAAaK,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAX,EAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,CAAC,CAAI,CAClBA,CAAC,CAACK,cAAF,GAEA,GAAIZ,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAjC,CAAqC,CACjCN,QAAQ,CAAC,2BAAD,CAA8B,QAA9B,CAAR,CACH,CAFD,IAEO,CACHC,KAAK,CAAC,CACFI,KAAK,CAALA,KADE,CAEFC,QAAQ,CAARA,QAFE,CAAD,CAAL,CAIH,CACJ,CAXD,CAaA,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACI,sDACY,4BAAM,SAAS,CAAC,cAAhB,UADZ,CADJ,cAII,4BAAM,QAAQ,CAAEU,QAAhB,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,UADJ,cAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAEX,KAAxC,CAA+C,QAAQ,CAAEM,QAAzD,CAAmE,QAAQ,KAA3E,EAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,UAAf,aADJ,cAEI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEL,QAA9C,CAAwD,QAAQ,CAAEK,QAAlE,CAA4E,QAAQ,KAApF,EAFJ,CALJ,cASI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,CAAmC,SAAS,CAAC,2BAA7C,EATJ,CAJJ,CADJ,CAkBH,CA1DD,CA4DA,cAAef,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\n\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from \"../../context/alert/alertContext\";\n\nconst Login = props => {\n    const authContext = useContext(AuthContext);\n    const alertContext = useContext(AlertContext);\n    const { setAlert } = alertContext;\n    const { login, error, clearErrors, isAuthenticated } = authContext;\n\n    const [user, setUser] = useState({\n        email: '',\n        password: ''\n    });\n\n    useEffect(() => {\n        if (isAuthenticated) {\n            props.history.push('/');\n        }\n\n        if (error === 'Invalid Credentials') {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n        // eslint-disable-next-line\n    }, [error, isAuthenticated, props.history]);\n\n    const { email, password } = user;\n\n    const onChange = e => setUser({ ...user, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        if (email === '' || password === '') {\n            setAlert('Please fill in all fields', 'danger');\n        } else {\n            login({\n                email,\n                password\n            });\n        }\n    };\n\n    return (\n        <div className=\"form-container\">\n            <h1>\n                Account <span className=\"text-primary\">Login</span>\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} required />\n                </div>\n                <input type=\"submit\" value=\"Login\" className=\"btn btn-primary btn-block\"/>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}